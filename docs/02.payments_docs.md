# 결제 모듈 프로젝트

## 프로젝트 개요

- 결제 모듈(페이지)은 사용자에게 등록된 카드를 시각적으로 제공하고, 새로운 카드를 추가할 수 있는 기능을 제공합니다. 
- 참여한 팀원 : 최승근([@ChoiSeungKeun](https://github.com/ChoiSeungKeun))

## 개발 환경

React 19, Vite 7.0, Java script ES6, Jest, StoryBook

## 설치 및 실행 방법

- 개발 환경에서 실행
  1. 터미널에서 명령어 실행
      ```
      npm install      // node-modules 설치
      npm run dev      // 개발 환경으로 실행
      ```
  2. 브라우저에서 결제 모듈 [(http://localhost:5173/shooking/#/payment)](http://localhost:5173/shooking/#/payment) 경로로 접속

## 컴포넌트 구조
- `payment` :
  - 역할 : 카드 등록 및 결제 기능의 최상위 컨테이너
  - 책임
    - 사용자 카드 목록 상태(`cards`)를 관리합니다.
    - 카드 입력 상태(`draftCard`)를 관리합니다.
    - 결제 선택된 카드(`selectedCardId`) 상태를 관리합니다.
    - 모드(`LIST` <-> `ADD`) 전환을 통해 카드 리스트 관련 UI(`CardListContainer`, `Button` 등)를 보여주거나, 카드 등록과 관련된 UI(`AddCardContainer` 등)를 보여줍니다.
    - 카드 등록 및 결제 처리 등 비즈니스 관련 로직을 가집니다.
  - 구조
    - `Header`(상단 바)
    - `CardListContainer`(카드 목록)
    - `AddCardContainer`(카드 등록 폼)
- `CardListContainer` :
  - 역할 : 카드 목록 화면의 레이아웃 및 카드 등록 모드 전환
  - 책임 :
    - 사용자의 등록된 카드 목록을 보여줍니다.
    - 결제를 위한 카드 선택 및 결제 버튼을 보여줍니다.
    - 카드 추가 버튼을 통해 카드 등록을 위한 모드로 변경해줍니다.
  - 구조 :
    - `CardList`(카드 리스트)
    - `Button`(카드 추가 버튼)
- `AddCardContainer` :
  - 역할 : 카드 등록 화면의 레이아웃 및 제출 처리
  - 책임:
    - 카드 등록을 위해 입력된 카드 정보를 미리보기로 표시합니다.
    - 카드 입력 폼을 렌더링합니다
    - 입력된 카드 정보를 등록합니다.
  - 구조
    - `Card`(카드 정보 표시)
    - `CardForm`(카드 정보 등록 폼)
    -  `Button`(카드 등록 버튼)
- `CardList`
  - 역할 : 카드 목록을 렌더링
  - 책임 :
    - 카드 리스트를 통해 각 카드 렌더링합니다.
    - 선택된 카드의 하위에 결제 버튼 표시합니다.
  - 구조 :
    - `Card`(카드 정보 표시)
    - `Button`(결제 버튼)
- `Card` :
  - 역할 : 단일 카드 정보를 UI로 표시
  - 책임 :
    - 카드 번호, 만료일, 이름 등 카드 정보 표시합니다.
    - 해당 카드를 선택할 수 있거나 없도록 하는 선택 가능 여부 처리합니다.
- `CardForm`
  - 역할 : 카드 입력 필드 집합
  - 책임 :
    - 카드 정보를 입력하는 입력 컴포넌트(LabeledInput)들을 가집니다.
  - 구조 :
    - `LabledInput`(라벨 표시 입력 컴포넌트)
- `LabeledInput`
  - 역할 : 라벨과 입력 컴포넌트 표시
  - 책임 :
    - 라벨요소를 통해 텍스트를 표시합니다.
    - 라벨과 입력 컴포넌트를 하나의 컴포넌트로 구성합니다.
  - 구조 :
    - `<label>`(라벨 요소)
    - `SegmentedInput` or `BaseInput`(입력 필드 컴포넌트)
- `SegmentedInput` : 
  - 역할 : 여러 개의 입력 필드를 하나의 배열로 처리 (카드번호, 만료일, 비밀 번호 등)
  - 책임 :
    - 입력 필드의 수(inputCount) 만큼 입력 요소를 렌더링합니다.
    - 각 입력 필드의 값은 배열과 인덱스를 통해 관리합니다.
    - 특정 입력 필드에 마스킹, 포커스 기능 적용 가능합니다.
    - 입력 필드의 길이 제한, 타입, 구분자를 설정합니다.
  - 구조 :
    - `<input/>`(입력 요소)
- `BaseInput`
  - 역할 : 단일 입력을 처리
  - 책임 :
    - 입력을 처리합니다.
    - 마스킹, 포커스 설정 적용 가능합니다.
    - 입력 필드의 길이 제한, 타입을 설정합니다.
  - 구조 :
    - `<input/>`(입력 요소)

## 테스트 방법

- 등록한 Jest 관련 script 실행
  ```
  npm run test
  ```

## 유의사항 및 알려진 이슈
- main 브랜치 push시 Github Pages에 자동 배포되도록 Github actions workflow 작성하였습니다.
- 추가적인 테스트 작성이 필요합니다.
- 카드 수정, 삭제와 관련된 기능을 추가하면 좋을 것 같습니다.

## 추가 항목
Github Pages 배포 사이트 : [결제 모듈 링크](https://choiseungkeun.github.io/shooking/#/product)
